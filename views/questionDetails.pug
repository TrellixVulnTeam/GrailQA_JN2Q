.qa_wrapper
    .row
        .col-md-10
            .row
                .col-sm-4
                    //- {{ $ctrl.question.qid+\".html\" }}
                    a(data-toggle="modal" href="#expanded_{{ $ctrl.question.qid }}" ng-click="$ctrl.genGraphs()") 
                        h6 {{ $ctrl.question.qid}}
                    pre.question {{ $ctrl.question.question }}
                .col-sm-4
                    dl
                        dt
                            i {{ $ctrl.question.answer.length > 1 ? "Answers" : "Answer" }}
                        dd(ng-repeat="answer in $ctrl.question.answer.slice(0,5)")
                            | {{ answer.answer_type === "Entity" ?  answer.entity_name : answer.answer_argument}} 
                            | {{ answer.answer_type === "Entity" ? ": "+answer.answer_argument : "" }}
                        p.text-muted(ng-if="$ctrl.question.answer.length > 5") 
                            i + {{ $ctrl.question.answer.length - 5 }} more answers
                .col-sm-4 
                    dl 
                        dt
                            i {{ $ctrl.preview_preds().answer.length > 1 ? "Prediction" : "Predictions" }}
                        dd(ng-if="$ctrl.preview_preds().answer.length < 1"
                            ng-mouseenter="$ctrl.color_correct($event)"
                            ng-mouseleave="$ctrl.color_correct($event)")
                                i No Answer
                        dd(ng-repeat="pred in $ctrl.preview_preds().answer.slice(0,5)" 
                            ng-mouseenter="$ctrl.color_correct($event)"
                            ng-mouseleave="$ctrl.color_correct($event)")
                                | {{ pred }}
                        p.text-muted(ng-if="$ctrl.preview_preds().answer.length > 5") 
                            i + {{ $ctrl.preview_preds().answer.length - 5 }} more predictions
        .col-md-2
            .container
                //- <!-- Button trigger modal -->
                button(type="button" class="btn btn-link" data-toggle="modal" data-target="#expanded_{{ $ctrl.question.qid }}" ng-click="$ctrl.genGraphs()")
                    img(src="/maximize-2.svg" alt="Expand")

                //- <!-- Modal -->
                div(class="modal fade" id="expanded_{{ $ctrl.question.qid }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true")
                    div(class="modal-dialog modal-dialog-centered modal-lg" role="document")
                        div(class="modal-content")
                            div(class="container")
                                h6 {{ $ctrl.question.qid}}
                            div(class="modal-header")
                                h3.modal-title {{  $ctrl.question.question }}
                                button(type="button" class="close" data-dismiss="modal" aria-label="Close")
                                    span(aria-hidden="true") &times;
                            div(class="modal-body")
                                .row
                                    .col-sm-3
                                        i {{ $ctrl.question.answer.length > 1 ? "Answers" : "Answer"}}
                                        dl.row(ng-repeat="answer in $ctrl.question.answer.slice(0,5)")
                                            dt.col {{ answer.entity_name }} ({{ answer.answer_type }}) : 
                                            dd.col 
                                                samp {{ answer.answer_argument }}
                                        div(ng-if="$ctrl.question.answer.length > 5")
                                            dl.row(class="answers_{{ $ctrl.question.qid }} collapse" ng-repeat="answer in $ctrl.question.answer.slice(5)" href=".answers_{{ $ctrl.question.qid }}" data-toggle="collapse")
                                                dt.col {{ answer.entity_name }} ({{ answer.answer_type }}) : 
                                                dd.col 
                                                    samp {{ answer.answer_argument }}
                                            a(href=".answers_{{ $ctrl.question.qid }}" data-toggle="collapse") 
                                                p.text-muted 
                                                    i + {{ $ctrl.question.answer.length - 5 }} more predictions
                                    .col-sm-3
                                        div
                                            p #[i Function: ] #[code {{ $ctrl.question.function }}]
                                        div
                                            p #[i Generalization Level: ] #[code {{ $ctrl.question.level}}] 
                                        div 
                                            dt 
                                                i {{ $ctrl.question.domains.length > 1 ? "Domains" : "Domain"}}
                                            dl(ng-repeat="domain in $ctrl.question.domains")
                                                dt {{ domain }}
                                    .col-sm-6
                                        div
                                            p #[i S-Expression: ] 
                                            code {{ $ctrl.question.s_expression }}
                                        div
                                            p #[i SPARQL Query: ] 
                                            code {{ $ctrl.question.sparql_query }}
                                hr
                                #model-perf.row
                                    .col(ng-repeat="(model, _) in  $ctrl.mp")
                                        model-detail(qid="$ctrl.question.qid" model="model" models="$ctrl.mp")
                                .row.h-100
                                    svg(id="graph_{{ $ctrl.question.qid }}" width='100%' height='100%')
                            div(class="modal-footer")
                                button(type="button" class="btn btn-secondary" data-dismiss="modal") Close
